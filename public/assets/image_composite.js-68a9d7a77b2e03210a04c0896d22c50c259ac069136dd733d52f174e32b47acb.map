{
  "version": 3,
  "sources": ["../../javascript/image_composite.js"],
  "sourcesContent": ["document.addEventListener('DOMContentLoaded', function () {\n  const imageUpload = document.getElementById('image-upload');\n  const overlayOptions = document.getElementById('overlay-options');\n  const overlayInput = document.getElementById('overlay');\n  const xOffsetInput = document.getElementById('x-offset');\n  const yOffsetInput = document.getElementById('y-offset');\n  const widthInput = document.getElementById('width');\n  const heightInput = document.getElementById('height');\n  const previewContainer = document.getElementById('image-preview-container'); // \u753B\u50CF\u30D7\u30EC\u30D3\u30E5\u30FC\u306E\u8868\u793A\u5834\u6240\n\n  // \u753B\u50CF\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u6642\u306E\u51E6\u7406\n  imageUpload.addEventListener('change', function (event) {\n    const reader = new FileReader();\n    reader.onload = function (e) {\n      const preview = document.createElement('img');\n      preview.src = e.target.result;\n      preview.style.width = '800px'; // \u753B\u50CF\u306E\u5E45\u3092800px\u306B\u8A2D\u5B9A\n      preview.style.height = '800px'; // \u753B\u50CF\u306E\u9AD8\u3055\u3092800px\u306B\u8A2D\u5B9A\n      previewContainer.innerHTML = '';\n      previewContainer.appendChild(preview);\n    };\n    reader.readAsDataURL(event.target.files[0]);\n  });\n\n  let heartStampAdded = false; // \u30CF\u30FC\u30C8\u306E\u30B9\u30BF\u30F3\u30D7\u304C\u8FFD\u52A0\u3055\u308C\u3066\u3044\u308B\u304B\u3069\u3046\u304B\u3092\u8FFD\u8DE1\u3059\u308B\u30D5\u30E9\u30B0\n\n  document.getElementById('toggle-heart-stamp').addEventListener('click', function () {\n    const previewImage = document.querySelector('#image-preview-container img');\n    if (!heartStampAdded && previewImage) {\n      // \u30CF\u30FC\u30C8\u306E\u30B9\u30BF\u30F3\u30D7\u3092\u8FFD\u52A0\n      const heartStamp = document.createElement('img');\n      heartStamp.classList.add('draggable');\n      heartStamp.classList.add('cursor-move'); // Tailwind CSS\u306E\u30AF\u30E9\u30B9\u3092\u8FFD\u52A0\n      heartStamp.src = 'https://res.cloudinary.com/di6l3gth2/image/upload/v1700377582/bdae9b71a0f463997c342fb282c57426_t_utgw9l-%E3%83%8F%E3%83%BC%E3%83%88_fupvnh.png';\n      heartStamp.style.position = 'absolute';\n      heartStamp.style.left = '50%';\n      heartStamp.style.top = '50%';\n      heartStamp.style.transform = 'translate(-50%, -50%)';\n      heartStamp.id = 'heart-stamp'; // ID\u3092\u8FFD\u52A0\u3057\u3066\u5F8C\u3067\u53C2\u7167\u3057\u3084\u3059\u304F\u3059\u308B\n      previewImage.parentNode.appendChild(heartStamp);\n      heartStampAdded = true;\n    } else if (heartStampAdded) {\n      // \u30CF\u30FC\u30C8\u306E\u30B9\u30BF\u30F3\u30D7\u3092\u524A\u9664\n      const heartStamp = document.getElementById('heart-stamp');\n      if (heartStamp) {\n        heartStamp.parentNode.removeChild(heartStamp);\n      }\n      heartStampAdded = false;\n    }\n\n  });\n\n  interact('.draggable').draggable({\n    listeners: {\n      move(event) {\n        const target = event.target;\n        const x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx;\n        const y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;\n\n        target.style.transform = `translate(${x}px, ${y}px)`;\n\n        target.setAttribute('data-x', x);\n        target.setAttribute('data-y', y);\n      }\n    }\n  });\n\n  // \u30EA\u30B5\u30A4\u30BA\u53EF\u80FD\u306A\u8981\u7D20\u3092\u8A2D\u5B9A\n  interact('.resizable').resizable({\n    edges: { left: true, right: true, bottom: true, top: true },\n    listeners: {\n      move(event) {\n        let { x, y } = event.target.dataset;\n\n        x = (parseFloat(x) || 0) + event.deltaRect.left;\n        y = (parseFloat(y) || 0) + event.deltaRect.top;\n\n        Object.assign(event.target.style, {\n          width: `${event.rect.width}px`,\n          height: `${event.rect.height}px`,\n          transform: `translate(${x}px, ${y}px)`\n        });\n\n        Object.assign(event.target.dataset, { x, y });\n      }\n    }\n  });\n});\n"],
  "mappings": ";;AAAA,WAAS,iBAAiB,oBAAoB,WAAY;AACxD,UAAM,cAAc,SAAS,eAAe,cAAc;AAC1D,UAAM,iBAAiB,SAAS,eAAe,iBAAiB;AAChE,UAAM,eAAe,SAAS,eAAe,SAAS;AACtD,UAAM,eAAe,SAAS,eAAe,UAAU;AACvD,UAAM,eAAe,SAAS,eAAe,UAAU;AACvD,UAAM,aAAa,SAAS,eAAe,OAAO;AAClD,UAAM,cAAc,SAAS,eAAe,QAAQ;AACpD,UAAM,mBAAmB,SAAS,eAAe,yBAAyB;AAG1E,gBAAY,iBAAiB,UAAU,SAAU,OAAO;AACtD,YAAM,SAAS,IAAI,WAAW;AAC9B,aAAO,SAAS,SAAU,GAAG;AAC3B,cAAM,UAAU,SAAS,cAAc,KAAK;AAC5C,gBAAQ,MAAM,EAAE,OAAO;AACvB,gBAAQ,MAAM,QAAQ;AACtB,gBAAQ,MAAM,SAAS;AACvB,yBAAiB,YAAY;AAC7B,yBAAiB,YAAY,OAAO;AAAA,MACtC;AACA,aAAO,cAAc,MAAM,OAAO,MAAM,CAAC,CAAC;AAAA,IAC5C,CAAC;AAED,QAAI,kBAAkB;AAEtB,aAAS,eAAe,oBAAoB,EAAE,iBAAiB,SAAS,WAAY;AAClF,YAAM,eAAe,SAAS,cAAc,8BAA8B;AAC1E,UAAI,CAAC,mBAAmB,cAAc;AAEpC,cAAM,aAAa,SAAS,cAAc,KAAK;AAC/C,mBAAW,UAAU,IAAI,WAAW;AACpC,mBAAW,UAAU,IAAI,aAAa;AACtC,mBAAW,MAAM;AACjB,mBAAW,MAAM,WAAW;AAC5B,mBAAW,MAAM,OAAO;AACxB,mBAAW,MAAM,MAAM;AACvB,mBAAW,MAAM,YAAY;AAC7B,mBAAW,KAAK;AAChB,qBAAa,WAAW,YAAY,UAAU;AAC9C,0BAAkB;AAAA,MACpB,WAAW,iBAAiB;AAE1B,cAAM,aAAa,SAAS,eAAe,aAAa;AACxD,YAAI,YAAY;AACd,qBAAW,WAAW,YAAY,UAAU;AAAA,QAC9C;AACA,0BAAkB;AAAA,MACpB;AAAA,IAEF,CAAC;AAED,aAAS,YAAY,EAAE,UAAU;AAAA,MAC/B,WAAW;AAAA,QACT,KAAK,OAAO;AACV,gBAAM,SAAS,MAAM;AACrB,gBAAM,KAAK,WAAW,OAAO,aAAa,QAAQ,CAAC,KAAK,KAAK,MAAM;AACnE,gBAAM,KAAK,WAAW,OAAO,aAAa,QAAQ,CAAC,KAAK,KAAK,MAAM;AAEnE,iBAAO,MAAM,YAAY,aAAa,CAAC,OAAO,CAAC;AAE/C,iBAAO,aAAa,UAAU,CAAC;AAC/B,iBAAO,aAAa,UAAU,CAAC;AAAA,QACjC;AAAA,MACF;AAAA,IACF,CAAC;AAGD,aAAS,YAAY,EAAE,UAAU;AAAA,MAC/B,OAAO,EAAE,MAAM,MAAM,OAAO,MAAM,QAAQ,MAAM,KAAK,KAAK;AAAA,MAC1D,WAAW;AAAA,QACT,KAAK,OAAO;AACV,cAAI,EAAE,GAAG,EAAE,IAAI,MAAM,OAAO;AAE5B,eAAK,WAAW,CAAC,KAAK,KAAK,MAAM,UAAU;AAC3C,eAAK,WAAW,CAAC,KAAK,KAAK,MAAM,UAAU;AAE3C,iBAAO,OAAO,MAAM,OAAO,OAAO;AAAA,YAChC,OAAO,GAAG,MAAM,KAAK,KAAK;AAAA,YAC1B,QAAQ,GAAG,MAAM,KAAK,MAAM;AAAA,YAC5B,WAAW,aAAa,CAAC,OAAO,CAAC;AAAA,UACnC,CAAC;AAED,iBAAO,OAAO,MAAM,OAAO,SAAS,EAAE,GAAG,EAAE,CAAC;AAAA,QAC9C;AAAA,MACF;AAAA,IACF,CAAC;AAAA,EACH,CAAC;",
  "names": []
}
