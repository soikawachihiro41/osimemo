{
  "version": 3,
  "sources": ["../../javascript/image_composite.js"],
  "sourcesContent": ["document.addEventListener('DOMContentLoaded', function () {\n  const imageUpload = document.getElementById('image-upload');\n  const overlayOptions = document.getElementById('overlay-options');\n  const overlayInput = document.getElementById('overlay');\n  const xOffsetInput = document.getElementById('x-offset');\n  const yOffsetInput = document.getElementById('y-offset');\n  const widthInput = document.getElementById('width');\n  const heightInput = document.getElementById('height');\n  const previewContainer = document.getElementById('image-preview-container'); // \u753B\u50CF\u30D7\u30EC\u30D3\u30E5\u30FC\u306E\u8868\u793A\u5834\u6240\n\n  // \u753B\u50CF\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u6642\u306E\u51E6\u7406\n  imageUpload.addEventListener('change', function (event) {\n    const reader = new FileReader();\n    reader.onload = function (e) {\n      const preview = document.createElement('img');\n      preview.src = e.target.result;\n      preview.style.maxWidth = '100%'; // \u753B\u50CF\u306E\u6700\u5927\u5E45\u3092\u8A2D\u5B9A\n      previewContainer.innerHTML = '';\n      previewContainer.appendChild(preview);\n    };\n    reader.readAsDataURL(event.target.files[0]);\n  });\n\n  // \u30B9\u30BF\u30F3\u30D7\u306E\u9078\u629E\u51E6\u7406\n  overlayOptions.addEventListener('change', function (event) {\n    if (event.target.value === 'heart_stamp') {\n      overlayInput.value = '\u30CF\u30FC\u30C8\u306E\u30B9\u30BF\u30F3\u30D7\u306EURL\u307E\u305F\u306F\u8B58\u5225\u5B50'; // \u30CF\u30FC\u30C8\u306E\u30B9\u30BF\u30F3\u30D7\u306EURL\u3092\u8A2D\u5B9A\n\n      // \u30D7\u30EC\u30D3\u30E5\u30FC\u753B\u50CF\u306B\u30CF\u30FC\u30C8\u306E\u30B9\u30BF\u30F3\u30D7\u3092\u8FFD\u52A0\u3059\u308B\u51E6\u7406\n      const previewImage = document.querySelector('#image-preview-container img');\n      if (previewImage) {\n        const heartStamp = document.createElement('img');\n        heartStamp.src = '\u30CF\u30FC\u30C8\u306E\u30B9\u30BF\u30F3\u30D7\u306EURL'; // \u30CF\u30FC\u30C8\u306E\u30B9\u30BF\u30F3\u30D7\u306EURL\u3092\u8A2D\u5B9A\n        heartStamp.style.position = 'absolute';\n        heartStamp.style.left = '50%'; // \u4F4D\u7F6E\u3092\u8ABF\u6574\n        heartStamp.style.top = '50%'; // \u4F4D\u7F6E\u3092\u8ABF\u6574\n        heartStamp.style.transform = 'translate(-50%, -50%)'; // \u4E2D\u592E\u306B\u914D\u7F6E\n        previewImage.parentNode.appendChild(heartStamp);\n      }\n    }\n  });\n\n  interact('.draggable').draggable({\n    listeners: {\n      move(event) {\n        const target = event.target;\n        const x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx;\n        const y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;\n\n        target.style.transform = `translate(${x}px, ${y}px)`;\n\n        target.setAttribute('data-x', x);\n        target.setAttribute('data-y', y);\n      }\n    }\n  });\n\n  // \u30EA\u30B5\u30A4\u30BA\u53EF\u80FD\u306A\u8981\u7D20\u3092\u8A2D\u5B9A\n  interact('.resizable').resizable({\n    edges: { left: true, right: true, bottom: true, top: true },\n    listeners: {\n      move(event) {\n        let { x, y } = event.target.dataset;\n\n        x = (parseFloat(x) || 0) + event.deltaRect.left;\n        y = (parseFloat(y) || 0) + event.deltaRect.top;\n\n        Object.assign(event.target.style, {\n          width: `${event.rect.width}px`,\n          height: `${event.rect.height}px`,\n          transform: `translate(${x}px, ${y}px)`\n        });\n\n        Object.assign(event.target.dataset, { x, y });\n      }\n    }\n  });\n});\n"],
  "mappings": ";;AAAA,WAAS,iBAAiB,oBAAoB,WAAY;AACxD,UAAM,cAAc,SAAS,eAAe,cAAc;AAC1D,UAAM,iBAAiB,SAAS,eAAe,iBAAiB;AAChE,UAAM,eAAe,SAAS,eAAe,SAAS;AACtD,UAAM,eAAe,SAAS,eAAe,UAAU;AACvD,UAAM,eAAe,SAAS,eAAe,UAAU;AACvD,UAAM,aAAa,SAAS,eAAe,OAAO;AAClD,UAAM,cAAc,SAAS,eAAe,QAAQ;AACpD,UAAM,mBAAmB,SAAS,eAAe,yBAAyB;AAG1E,gBAAY,iBAAiB,UAAU,SAAU,OAAO;AACtD,YAAM,SAAS,IAAI,WAAW;AAC9B,aAAO,SAAS,SAAU,GAAG;AAC3B,cAAM,UAAU,SAAS,cAAc,KAAK;AAC5C,gBAAQ,MAAM,EAAE,OAAO;AACvB,gBAAQ,MAAM,WAAW;AACzB,yBAAiB,YAAY;AAC7B,yBAAiB,YAAY,OAAO;AAAA,MACtC;AACA,aAAO,cAAc,MAAM,OAAO,MAAM,CAAC,CAAC;AAAA,IAC5C,CAAC;AAGD,mBAAe,iBAAiB,UAAU,SAAU,OAAO;AACzD,UAAI,MAAM,OAAO,UAAU,eAAe;AACxC,qBAAa,QAAQ;AAGrB,cAAM,eAAe,SAAS,cAAc,8BAA8B;AAC1E,YAAI,cAAc;AAChB,gBAAM,aAAa,SAAS,cAAc,KAAK;AAC/C,qBAAW,MAAM;AACjB,qBAAW,MAAM,WAAW;AAC5B,qBAAW,MAAM,OAAO;AACxB,qBAAW,MAAM,MAAM;AACvB,qBAAW,MAAM,YAAY;AAC7B,uBAAa,WAAW,YAAY,UAAU;AAAA,QAChD;AAAA,MACF;AAAA,IACF,CAAC;AAED,aAAS,YAAY,EAAE,UAAU;AAAA,MAC/B,WAAW;AAAA,QACT,KAAK,OAAO;AACV,gBAAM,SAAS,MAAM;AACrB,gBAAM,KAAK,WAAW,OAAO,aAAa,QAAQ,CAAC,KAAK,KAAK,MAAM;AACnE,gBAAM,KAAK,WAAW,OAAO,aAAa,QAAQ,CAAC,KAAK,KAAK,MAAM;AAEnE,iBAAO,MAAM,YAAY,aAAa,CAAC,OAAO,CAAC;AAE/C,iBAAO,aAAa,UAAU,CAAC;AAC/B,iBAAO,aAAa,UAAU,CAAC;AAAA,QACjC;AAAA,MACF;AAAA,IACF,CAAC;AAGD,aAAS,YAAY,EAAE,UAAU;AAAA,MAC/B,OAAO,EAAE,MAAM,MAAM,OAAO,MAAM,QAAQ,MAAM,KAAK,KAAK;AAAA,MAC1D,WAAW;AAAA,QACT,KAAK,OAAO;AACV,cAAI,EAAE,GAAG,EAAE,IAAI,MAAM,OAAO;AAE5B,eAAK,WAAW,CAAC,KAAK,KAAK,MAAM,UAAU;AAC3C,eAAK,WAAW,CAAC,KAAK,KAAK,MAAM,UAAU;AAE3C,iBAAO,OAAO,MAAM,OAAO,OAAO;AAAA,YAChC,OAAO,GAAG,MAAM,KAAK,KAAK;AAAA,YAC1B,QAAQ,GAAG,MAAM,KAAK,MAAM;AAAA,YAC5B,WAAW,aAAa,CAAC,OAAO,CAAC;AAAA,UACnC,CAAC;AAED,iBAAO,OAAO,MAAM,OAAO,SAAS,EAAE,GAAG,EAAE,CAAC;AAAA,QAC9C;AAAA,MACF;AAAA,IACF,CAAC;AAAA,EACH,CAAC;",
  "names": []
}
